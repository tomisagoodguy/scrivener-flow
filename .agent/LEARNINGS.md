# Vibe Coding 成長筆記 (Knowledge Base)

> 此文件用於記錄開發過程中的「觀念升級」、「最佳實踐」與「錯誤反思」。
> 目標是讓每個專案都能繼承這些經驗，從「寫程式的人」進化為「架構師與產品導演」。

## 🧠 核心心法 (Mindset)

- **檔案即記憶 (Files as Memory)**
  - **觀念**: 不要依賴腦袋或 Chat 對話紀錄（容易忘、斷片）。
  - **行動**: 把「進度」寫進 `docs/DEVELOPMENT.md`，把「規格」寫進 `README.md`。這些是專案的大腦。
  
- **導演與劇組 (Director & Crew)**
  - **觀念**: 你是導演，專注於「什麼 (What)」與「價值」；AI 是劇組，專注於「如何 (How)」與「實作」。
  - **行動**: 下指令時描述「我要一個深色玻璃質感的表單」，而不是問「CSS怎麼寫 border-radius」。

- **SOP 自動化**
  - **觀念**: 能自動化的重複流程，就不要手動做。
  - **行動**: 建立 `.agent/workflows/resume-work.md`，讓 AI 自動幫你暖機開工。

- **Git 紀律 (Version Control)**
  - **觀念**: 不要等到寫完一整天扣才 commit。
  - **行動**: "Atomic Commits" (原子提交)。每完成一個小功能 (如：新增按鈕、修復 Bug) 就 Commit 一次。
  - **好處**: 寫錯了好回頭，且 Commit Message 清楚好讀。不要把「修馬桶」和「煮飯」的動作混在同一個 Commit 裡。

## 🏗️ 架構設計 (Architecture)

### 資料庫 (Database)

- **彈性與嚴謹並存**
  - **情境**: 使用者輸入資料不固定，但又需要報表。
  - **解法**: 核心欄位用 SQL 固定欄位 (嚴謹)，變動欄位用 `JSONB` (彈性)。這樣既有 Excel 的自由，又有資料庫的效能。
  
- **遷移思維 (Migrations)**
  - **錯誤習慣**: 在 Supabase/Firebase 網頁後台手動建表、加欄位。
  - **正確思維**: 把建表指令存成 `.sql` 檔案。
  - **原因**: 方便備份、方便搬家、方便在測試環境重現。不要讓「滑鼠點擊」成為無法複製的歷史。

### 專案結構 (File Structure)

- **扁平化管理 (Flat Structure)**
  - **情境**: `.agent` 或工具資料夾該怎麼分類？
  - **原則**: 除非檔案超過 10 個以上，否則保持「扁平」最好。
  - **原因**: AI 檢索快、人類一眼就能看完，減少認知負擔。

### Agent Skills 優化技巧 (來自高見龍)

- **觸發描述 (Description) 是關鍵**：`description` 應明確寫出「什麼時候 (When)」啟用，例如：「當使用者要求...時啟用」。這是 AI 判斷是否加載該技能的唯一依據。
- **漸進式揭露 (Progressive Disclosure)**：保持主檔案簡潔（建議 500 行內），細節放在 `references/` 資料夾，按需讀取。

### Claude Code 高級工作流模式 (來自 tangshuang.net)

- **CLAUDE.md 是專案心臟**：將核心標準、技術棧與任務清單放在專案根目錄，AI 每次載入時都會讀取，比 `README.md` 更具備指令性。
- **面談模式 (Interview Mode)**：複雜任務前至少問一個澄清問題，能減少 30% 以上的重工。
- **依賴管理 (Plan-Verify-Lock)**：安裝套件前先檢查現有版本，安裝後務必驗證 Lockfile，避免版本衝突。
- **零容忍原則**：執行工具時產生的警告（Warning）應視同錯誤處理，確保代碼潔淨。

## 🔄 工作流檢討 (Workflow Review)

- **[2026-01-06] 起手式標準化**
  - 以後新專案直接複製 `.agent` 資料夾，內含 `rules.md` 與 `LEARNINGS.md`，馬上繼承所有經驗值，不用從零開始教 AI。
